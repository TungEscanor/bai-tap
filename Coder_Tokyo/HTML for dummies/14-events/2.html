<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text" id="searchInput" placeholder="Search by phone number..." />
    <ul id="userList">

    </ul>
    <script>
    var users = [
    { 
    name: 'Thinh', 
    phone: '070123123'
    },
    {
    name: 'Hung',
    phone: '080456456'
    },
    {
    name: 'Hoang',
    phone: '090123123'
    }
    ];
    var userList = document.getElementById('userList');
    var searchInput = document.getElementById('searchInput');

    function render(users) {
    var content = users.map(function(user) {
    return '<li>' + user.name + ' - ' + user.phone + '</li>';
    });
    userList.innerHTML = content.join('');
    }

    render(users);

    searchInput.addEventListener('onkeyup', function(event) {
    // sự kiện 'change' chỉ xảy ra khi input bị mất focus
    // sử dụng sự kiện keyup để tìm kiếm người dùng có số điện thoại khớp với nội dung tìm kiếm.
    // Gợi ý: 
    // - biến value dưới đây là giá trị của input tại thời điểm gõ phím
    // - sử dụng array.filter và string.indexOf để lọc users array, trả về những phần tử có số điện thoại chứa string lưu trong biến `value`
    // Sử dụng Chrome Developer Tools để xem giá trị hiển thị ra sau mỗi lần gõ
    var value = searchInput.value;
    console.log(value);
    var i;
    var nullData = "No data";
    var result = '<li>' + user[i].name + ' - ' + user[i].phone + '</li>';
        for (i = 0; i < users.length; i ++) {
            if (value == user[i].name.filter(text => text == value) 
            || value == user[i].phone.filter(text => text == value) 
            || value.indexOf(parseInt(users[i].phone) > -1) 
            || value.toString().indexOf(user[i].name.toLoweCase()) > -1) {
                return result; userList.innerHTML=result.join('');
            } else return nullData; userList.innerHTML = nullData
        }
    }

    );
    </script>
</body>
</html>